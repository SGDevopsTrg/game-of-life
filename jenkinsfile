node(){
    stage('Version Control'){
        git url: 'https://github.com/SGDevopsTrg/game-of-life.git',
            branch: 'jenkinsScriptedPipeline',
            poll: false
    }
    stage('Create a Build'){
        sh 'export PATH="/usr/lib/jvm/java-1.8.0-openjdk-amd64/bin:$PATH" && mvn package'
    }
    stage('Archive the Artifects'){
        archiveArtifacts onlyIfSuccessful: true,
            artifacts: '**/target/gameoflife.war',
            allowEmptyArchive: true
    }
    stage('Show the TestResults'){
        junit testResults: '**/surefire-reports/TEST-*.xml',
              allowEmptyArchive: false
    }
}
        